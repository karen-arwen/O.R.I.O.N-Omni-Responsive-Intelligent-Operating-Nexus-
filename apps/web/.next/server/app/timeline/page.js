(()=>{var e={};e.id=571,e.ids=[571],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1580:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>m,tree:()=>d});var s=i(6965),a=i(4902),n=i(6408),r=i.n(n),o=i(4346),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);i.d(t,l);let d=["",{children:["timeline",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,6971)),"C:\\Users\\arwen\\OneDrive\\Documentos\\GitHub\\O.R.I.O.N-Omni-Responsive-Intelligent-Operating-Nexus-\\apps\\web\\app\\timeline\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,9686)),"C:\\Users\\arwen\\OneDrive\\Documentos\\GitHub\\O.R.I.O.N-Omni-Responsive-Intelligent-Operating-Nexus-\\apps\\web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(i.bind(i,7472)),"C:\\Users\\arwen\\OneDrive\\Documentos\\GitHub\\O.R.I.O.N-Omni-Responsive-Intelligent-Operating-Nexus-\\apps\\web\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,5438,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\arwen\\OneDrive\\Documentos\\GitHub\\O.R.I.O.N-Omni-Responsive-Intelligent-Operating-Nexus-\\apps\\web\\app\\timeline\\page.tsx"],c="/timeline/page",u={require:i,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/timeline/page",pathname:"/timeline",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8982:(e,t,i)=>{Promise.resolve().then(i.bind(i,6989))},6989:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>TimelinePage});var s=i(4196),a=i(8726),n=i(3756),r=i(8207);let o=r.Ry({name:r.Z_().min(1),filters:r.Ry({correlationId:r.Z_().optional(),decisionId:r.Z_().optional(),domain:r.Z_().optional(),kind:r.Z_().optional(),types:r.Z_().optional(),from:r.Z_().optional(),to:r.Z_().optional()}),favorite:r.O7().optional(),createdAt:r.Z_().optional()}),l="orion-saved-views",d=[],loadSavedViews=()=>{if("undefined"==typeof localStorage)return d;let e=localStorage.getItem(l);if(!e)return[];try{let t=JSON.parse(e),i=r.IX(o).safeParse(t),s=i.success?i.data:[];return d=s,s}catch{return d}},saveViews=e=>{d=e,"undefined"!=typeof localStorage&&localStorage.setItem(l,JSON.stringify(e))},addSavedView=e=>{let t=loadSavedViews();saveViews([{...e,createdAt:e.createdAt??new Date().toISOString()},...t])};var p=i(9775),c=i(3730);let u=r.Ry({correlationId:r.Z_().optional(),decisionId:r.Z_().optional(),domain:r.Z_().optional(),kind:r.Z_().optional(),types:r.Z_().optional(),from:r.Z_().optional(),to:r.Z_().optional()});function TimelineFilters({value:e,onChange:t}){let[i,n]=(0,a.useState)(()=>loadSavedViews()),[r,o]=(0,a.useState)(""),applyView=e=>{t(e.filters)};return(0,s.jsxs)(c.Zb,{className:"p-4 space-y-3 sticky top-16 z-20",children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-3 lg:grid-cols-4 gap-2",children:[["correlationId","decisionId","domain","types","from","to"].map(i=>s.jsx("input",{className:"rounded-lg bg-white/5 border border-white/10 px-3 py-2 text-sm",placeholder:i,value:e[i]??"",onChange:s=>t({...e,[i]:s.target.value})},i)),(0,s.jsxs)("select",{className:"rounded-lg bg-white/5 border border-white/10 px-3 py-2 text-sm",value:e.kind??"",onChange:i=>t({...e,kind:i.target.value}),children:[s.jsx("option",{value:"",children:"kind"}),s.jsx("option",{value:"decision",children:"decision"}),s.jsx("option",{value:"trust",children:"trust"}),s.jsx("option",{value:"system",children:"system"}),s.jsx("option",{value:"audit",children:"audit"}),s.jsx("option",{value:"other",children:"other"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(p.z,{size:"sm",onClick:()=>t({...e}),children:"Apply"}),s.jsx(p.z,{variant:"secondary",size:"sm",onClick:()=>t({}),children:"Reset"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{className:"rounded-lg bg-white/5 border border-white/10 px-3 py-2 text-sm flex-1",placeholder:"Nome do filtro",value:r,onChange:e=>o(e.target.value)}),s.jsx(p.z,{variant:"secondary",size:"sm",onClick:()=>{let t=u.safeParse(e);if(!t.success)return;let i={name:r||"Filtro salvo",filters:t.data};addSavedView(i),n(loadSavedViews()),o("")},children:"Salvar"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:i.map(e=>s.jsx("button",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1",onClick:()=>applyView(e),children:e.name},e.name))})]})]})}var m=i(513),x=i(9756),v=i(9607),g=i(957);function TimelinePage(){let[e,t]=(0,a.useState)({}),i=(0,n.mU)({correlationId:e.correlationId||void 0,decisionId:e.decisionId||void 0,domain:e.domain||void 0,kind:e.kind||void 0,types:e.types||void 0,from:e.from||void 0,to:e.to||void 0,limit:50}),r=(0,a.useMemo)(()=>i.data?.pages.flatMap(e=>e.items)??[],[i.data]);return s.jsx(x.Z,{children:s.jsx(g.s,{roles:["member","admin"],children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Timeline"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Virtualizada, filtros salvos, export"})]}),s.jsx(p.z,{onClick:()=>(0,v.J)({filters:e,items:r}),variant:"secondary",size:"sm","aria-label":"Exportar timeline atual",children:"Export current view"})]}),s.jsx(TimelineFilters,{value:e,onChange:t}),s.jsx(m.j,{items:r,onLoadMore:()=>i.fetchNextPage(),hasNext:!!i.hasNextPage,filters:e})]})})})}},6971:(e,t,i)=>{"use strict";i.r(t),i.d(t,{$$typeof:()=>r,__esModule:()=>n,default:()=>l});var s=i(4074);let a=(0,s.createProxy)(String.raw`C:\Users\arwen\OneDrive\Documentos\GitHub\O.R.I.O.N-Omni-Responsive-Intelligent-Operating-Nexus-\apps\web\app\timeline\page.tsx`),{__esModule:n,$$typeof:r}=a,o=a.default,l=o}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),i=t.X(0,[603,777,303,602,995,731,756,730,915,513],()=>__webpack_exec__(1580));module.exports=i})();