(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[78],{2990:function(e,t,r){Promise.resolve().then(r.bind(r,2093))},2093:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return AlertsPage}});var n=r(7573),s=r(5025),a=r(9975);function AlertsPage(){return(0,n.jsx)(s.Z,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("header",{children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"Alerts Center"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Deduped alerts, CTA para timeline/trust"})]}),(0,n.jsx)(a.S,{})]})})}},9975:function(e,t,r){"use strict";r.d(t,{S:function(){return AlertsPanel}});var n=r(7573),s=r(2056),a=r.n(s),i=r(6141),c=r(5562),o=r(10);function AlertsPanel(){var e,t;let r=(0,i.gV)(),s=(0,i.mU)({from:(function(e,t){let r=+(0,c.Q)(e);return(0,o.L)(e,r+-864e5)})(new Date,-864e5).toISOString(),limit:100}),l=[];r.data&&Object.entries(r.data.scoresByDomain).forEach(e=>{let[t,r]=e;r<.4&&l.push({severity:"critical",message:"Trust baixo em ".concat(t," (").concat(r.toFixed(2),")"),ctaLabel:"Ver trust",ctaHref:"/trust/".concat(t)})});let d=null!==(t=null===(e=s.data)||void 0===e?void 0:e.pages.flatMap(e=>e.items))&&void 0!==t?t:[];return(d.forEach(e=>{var t,r;"permission.decision"===e.type&&"deny"===e.payload.permissionLevel&&l.push({severity:"warn",message:"Permission deny recente",ctaLabel:"Ver timeline filtrada",ctaHref:"/timeline?correlationId=".concat(null!==(t=e.correlationId)&&void 0!==t?t:"")}),"system.no_action"===e.type&&l.push({severity:"info",message:"Sil\xeancio repetido detectado",ctaLabel:"Ver fluxo",ctaHref:"/timeline?correlationId=".concat(null!==(r=e.correlationId)&&void 0!==r?r:"")})}),0===l.length)?(0,n.jsx)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 text-sm text-muted-foreground",children:"Nenhum alerta ativo."}):(0,n.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold",children:"Alertas"}),(0,n.jsxs)("span",{className:"text-xs text-muted-foreground",children:[l.length," ativos"]})]}),(0,n.jsx)("div",{className:"space-y-2",children:l.map((e,t)=>(0,n.jsxs)("div",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm",children:e.message}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:e.severity})]}),(0,n.jsx)(a(),{className:"text-xs text-primary underline",href:e.ctaHref,children:e.ctaLabel})]},t))})]})}},10:function(e,t,r){"use strict";function constructFrom(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}r.d(t,{L:function(){return constructFrom}})},5562:function(e,t,r){"use strict";function toDate(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}r.d(t,{Q:function(){return toDate}})}},function(e){e.O(0,[274,54,447,786,529,25,293,53,744],function(){return e(e.s=2990)}),_N_E=e.O()}]);